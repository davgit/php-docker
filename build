#!/usr/bin/env bash
set -e
set -o pipefail

PHP73="7.3.0-rc2"
docker image build \
  -t jtreminio/php:7.3 \
  -t jtreminio/php:${PHP73} \
  -f Dockerfile-7.3 \
  .
cat << EOF
Push to Docker Hub with:

docker image push jtreminio/php:7.3
docker image push jtreminio/php:${PHP73}
EOF

PHP72="7.2.10"
docker image build \
  -t jtreminio/php:7.2 \
  -t jtreminio/php:${PHP72} \
  -t jtreminio/php:latest \
  -f Dockerfile-7.2 \
  .
cat << EOF
Push to Docker Hub with:

docker image push jtreminio/php:7.2
docker image push jtreminio/php:${PHP72}
docker image push jtreminio/php:latest
EOF

PHP71="7.1.22"
docker image build \
  -t jtreminio/php:7.1 \
  -t jtreminio/php:${PHP71} \
  -f Dockerfile-7.1 \
  .
cat << EOF
Push to Docker Hub with:

docker image push jtreminio/php:7.1
docker image push jtreminio/php:${PHP71}
EOF

PHP70="7.0.32"
docker image build \
  -t jtreminio/php:7.0 \
  -t jtreminio/php:${PHP70} \
  -f Dockerfile-7.0 \
  .
cat << EOF
Push to Docker Hub with:

docker image push jtreminio/php:7.0
docker image push jtreminio/php:${PHP70}
EOF

PHP56="5.6.38"
docker image build \
  -t jtreminio/php:5.6 \
  -t jtreminio/php:${PHP56} \
  -f Dockerfile-5.6 \
  .
cat << EOF
Push to Docker Hub with:

docker image push jtreminio/php:5.6
docker image push jtreminio/php:${PHP56}
EOF
